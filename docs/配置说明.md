# ⚙️ 插件配置说明

## 基础配置

### 环境配置文件 (.env)

```env
# 资源路径配置
RESOURCE_PATH="./resource"           # 资源文件根目录
FONT_PATH="./resource/fonts/arial.ttf"  # 字体文件路径

# 抽卡系统配置
DRAW_CARD_BLACK_GROUPS=["123456789"]  # 抽卡功能黑名单群号
DRAW_CARD_UP_ID="0"                   # 当前UP式神ID
DRAW_CARD_UP_START_TIME="07/01"       # UP池开始时间
DRAW_CARD_UP_CONTINUE_TIME=12         # UP池持续时间(天)

# 自动回复配置
AUTOREPLY_BLOCK=false                 # 是否阻塞其他插件
AUTOREPLY_PRIORITY=99                 # 响应优先级

# 超级用户配置
SUPERUSERS=["12345678"]              # 超级用户QQ号列表
```

## 配置项说明

### 资源路径配置
- `RESOURCE_PATH`: 插件资源文件的根目录路径
- `FONT_PATH`: 插件使用的字体文件路径

### 抽卡系统配置
| 配置项 | 类型 | 说明 | 示例值 |
|--------|------|------|--------|
| DRAW_CARD_BLACK_GROUPS | 字符串数组 | 禁用抽卡功能的群号列表 | ["123456789"] |
| DRAW_CARD_UP_ID | 字符串 | 当前UP池中的式神ID | "569" |
| DRAW_CARD_UP_START_TIME | 字符串 | UP池开始时间，格式为"MM/DD" | "07/01" |
| DRAW_CARD_UP_CONTINUE_TIME | 整数 | UP池持续时间，单位为天 | 12 |

### 自动回复配置
- `AUTOREPLY_BLOCK`: 是否阻止其他插件处理相同消息
- `AUTOREPLY_PRIORITY`: 插件响应优先级，数值越小优先级越高

### RSS订阅配置
| 配置项 | 类型 | 说明 | 示例值 |
|--------|------|------|--------|
| type | 字符串 | 订阅类型 | "rss"或"bilibili" |
| priority | 整数 | 处理优先级 | 1 |
| matches | 字符串数组 | 触发关键词 | ["新闻", "公告"] |
| keyword | 字符串 | 搜索关键词 | "阴阳师" |
| number | 整数 | 返回结果数量 | 5 |
| user | 字符串 | 订阅源用户名 | "网易阴阳师" |

### 超级用户配置
- `SUPERUSERS`: 具有插件管理权限的用户QQ号列表

## 配置文件位置
- 环境配置文件：项目根目录下的`.env`文件
- 插件配置文件：`config/yyshelp.yaml`

## 数据存储

### 抽卡记录
- **路径**：data/draw_card/user.json
- **格式**：JSON
- **自动保存**：是
- **说明**：存储用户抽卡数据，包括抽卡次数、保底进度等

### 式神资源
- **路径**：data/icon/
- **内容**：式神图标按稀有度分类存储
- **自动更新**：每周二12点自动检查更新

## 配置注意事项

### 重要配置要求
1. 文件格式要求
   - YAML文件需严格遵守缩进规则
   - JSON文件需符合标准格式
   - 所有文件使用UTF-8编码

2. 路径配置
   - 确保资源目录具有读写权限
   - 路径分隔符使用正斜杠(/)
   - 相对路径基于项目根目录

### 使用提示
1. 首次运行时会自动创建配置文件
2. 修改配置后需要重启Bot才能生效
3. 请确保资源路径下的文件结构完整
4. 建议使用绝对路径配置资源文件位置

### 数据安全建议
- 定期备份用户数据文件
- 更新配置前备份原配置
- 保留配置模板副本